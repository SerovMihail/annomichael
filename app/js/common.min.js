function fadeOutnojquery(e){e.style.opacity=1;var t=setInterval(function(){e.style.opacity=e.style.opacity-.05,e.style.opacity<=.05&&(clearInterval(t),preloader.style.display="none",signature.style.display="block")},30)}var _=function(){function e(e,t){return new Date(-1*e+t.getTime())}function t(){var e="Mon Jan 1 0000 00:00:00 GMT+0300 (MSK)",t=e.split(" ")[3],a=+t+5e3,n=new Date(e.replace(t,a));return n.setFullYear(n.getFullYear()-5e3),+n}function a(){return new Date(family[0].born.year,family[0].born.month-1,family[0].born.day)}function n(e){return new Date(e,family[0].born.month-1,family[0].born.day).getDay()}function r(e){return e%4==0&&(e%100!=0||e%400==0)}return{getLifeMilliseconds:e,getZeroDate:t,IsLeapYear:r,getMichaelBornDate:a,getMichaelBornDay:n}}();document.addEventListener("DOMContentLoaded",function(){"use strict";function e(){var e=new Date,i=void 0,o=void 0;e.getMonth()>1||1==e.getMonth()&&e.getDate()>=13?(i=e.getFullYear(),o=n.michaelAge.toString()):(i=e.getFullYear()-1,o=n.michaelAge.toString());var s=_.getMichaelBornDay(i),l=new Date(i,1,13),c=Math.ceil(new Date(e-l).getTime()/n.oneDay),d=a(c),u=d[0],y=d[1],m=d[2];u=t(u,3);var h=o+" "+m+" "+u,f=t(e.getHours(),2)+":"+t(e.getMinutes(),2)+":"+t(e.getSeconds(),2)+" "+["ВС","ПН","ВТ","СР","ЧТ","ПТ","СБ"][e.getDay()];document.getElementsByClassName("time")[0].innerHTML=f,document.getElementsByClassName("date")[0].innerHTML=h,document.getElementsByClassName("alias")[0].innerHTML=y,document.getElementsByClassName("year-letters")[0].innerHTML=" A. M.",r||(calendar.drawCalendar(c,m,s,n.currentYearIsLeap),r=!0)}function t(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}function a(e){var t=family[0].daysWithoutPrecision,a=t+family[1].daysWithoutPrecision,n=a+family[2].daysWithoutPrecision,r=n+family[3].daysWithoutPrecision,i=r+family[4].daysWithoutPrecision,o=i+family[5].daysWithoutPrecision,s=o+family[6].daysWithoutPrecision;return e>0&&e<=t?[e,"MICHAEL",1]:e>t&&e<=a?[e-t,"ELIA",2]:e>a&&e<=n?[e-a,"SERGIUS",3]:e>n&&e<=r?[e-n,"EGOR",4]:e>r&&e<=i?[e-r,"VAN",5]:e>i&&e<=o?[e-i,"LEXIUS",6]:e>o&&e<=s?[e-o,"CATHARINA",7]:void console.log("Mistake in algorithm")}var n={zeroDate:_.getZeroDate(),michaelBornDate:_.getMichaelBornDate(),currentDate:new Date,michaelAge:void 0,daysInYear:0,totalPercentOfAges:0,totalDaysWithoutCatharina:0,currentYearIsLeap:void 0,oneDay:864e5};n.currentYearIsLeap=_.IsLeapYear(n.currentDate.getFullYear()),n.daysInYear=n.currentYearIsLeap?366:365;var r=!1;!function(){var e=new Date,t=void 0;t=e.getMonth()>1||1==e.getMonth()&&e.getDate()>=13?e.getFullYear():e.getFullYear()-1,family.forEach(function(e){if(e.age=t-e.born.year,e.percentOfMichaelAges=e.age/family[0].age,n.totalPercentOfAges+=e.percentOfMichaelAges,"Michael"!=e.name){var a=Math.abs(new Date(family[0].born.year,e.born.month-1,e.born.day).getTime()-n.michaelBornDate.getTime());e.daysFromYearStart=Math.floor(a/n.oneDay),e.daysFromYearStartLeapYear=e.daysFromYearStart+1}}),n.michaelAge=family[0].age,family.forEach(function(e){e.daysWithPrecision=n.daysInYear/n.totalPercentOfAges*e.percentOfMichaelAges,e.daysWithoutPrecision=Math.round(e.daysWithPrecision),"Catharina"==e.name?e.daysWithoutPrecision=n.daysInYear-n.totalDaysWithoutCatharina:n.totalDaysWithoutCatharina+=e.daysWithoutPrecision,"Michael"==e.name&&(e.daysWithoutPrecision+=n.currentYearIsLeap?1:0)})}(),setInterval(e,1e3)});var preloader=document.getElementsByClassName("mk-spinner-wrap")[0],signature=document.getElementsByClassName("signature")[0];window.onload=function(){setTimeout(function(){fadeOutnojquery(preloader)},1e3)};var calendar=function(){function e(e,t,a,n){function r(e){return family.find(function(t){return n?t.daysFromYearStartLeapYear==e-1:t.daysFromYearStart==e-1})}var i=document.getElementsByClassName("free-month")[0],o=document.getElementsByClassName("four-month")[0],s=n?family.map(function(e){return e.daysFromYearStartLeapYear}):family.map(function(e){return e.daysFromYearStart}),l=1;family.forEach(function(n,c){appendDiv=c>2?o:i;var d="",u="";a>7&&(a=1);for(var y=1;y<a;y++)u+="<td></td>";for(var m=1;m<n.daysWithoutPrecision+1;m++){if(a>7&&(a=1,d+="<tr>"+u+"</tr>",u=""),c+1==t&&l==e&&-1!=s.indexOf(l-1)){var h=r(l);u+="<td class='today "+h.name+"-color' title='Сегодня день рождения у "+h.name+"'>"+m+"</td>"}else if(c+1==t&&l==e)u+="<td class='today' title='Сегодня'>"+m+"</td>";else if(-1!=s.indexOf(l-1)){var h=r(l);u+="<td class='"+h.name+"-color' title='День рождения "+h.name+"'>"+m+"</td>"}else u+="<td>"+m+"</td>";a++,l++}d+="<tr>"+u+"</tr>",u="";var f="<tbody>"+d+"</tbody>",g="<tr><th colspan='7' class='calendar-month-title "+n.name+"-color'>"+n.name+"</th></tr>",p="<thead>"+g+"<tr><th>ПН</th><th>ВТ</th><th>СР</th><th>ЧТ</th><th>ПТ</th><th>СБ</th><th>ВС</th></tr></thead>",v="<table>"+p+f+"</table>";appendDiv.innerHTML+=v}),tippy("[title]",{trigger:"mouseenter focus",animation:"scale",duration:0}),window.addEventListener("touchstart",function(){var e=document.getElementsByClassName("tippy-popper")[0]._tippy;e.state.visible&&e.hide(0)})}return{drawCalendar:e}}();