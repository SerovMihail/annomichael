function fadeOutnojquery(e){e.style.opacity=1;var t=setInterval(function(){e.style.opacity=e.style.opacity-.05,e.style.opacity<=.05&&(clearInterval(t),preloader.style.display="none")},16)}var _=function(){function e(e,t){return new Date(-1*e+t.getTime())}function t(){var e="Mon Jan 1 0000 00:00:00 GMT+0300 (MSK)",t=e.split(" ")[3],a=+t+5e3,r=new Date(e.replace(t,a));return r.setFullYear(r.getFullYear()-5e3),+r}function a(){return new Date(family[0].born.year,family[0].born.month-1,family[0].born.day)}function r(e){return new Date(e,family[0].born.month-1,family[0].born.day).getDay()}function n(e){return e%4==0&&(e%100!=0||e%400==0)}return{getLifeMilliseconds:e,getZeroDate:t,IsLeapYear:n,getMichaelBornDate:a,getMichaelBornDay:r}}();$(function(){"use strict";function e(){var e=new Date,i=void 0,o=void 0;e.getMonth()>1||1==e.getMonth()&&e.getDate()>=13?(i=e.getFullYear(),o=r.michaelAge.toString()):(i=e.getFullYear()-1,o=r.michaelAge.toString());var l=_.getMichaelBornDay(i),s=new Date(i,1,13),c=Math.ceil(new Date(e-s).getTime()/r.oneDay),u=a(c),y=u[0],d=u[1],h=u[2];y=t(y,3);var m=o+" "+h+" "+y,f=e.getHours()+":"+t(e.getMinutes(),2)+":"+t(e.getSeconds(),2)+" "+["ВС","ПН","ВТ","СР","ЧТ","ПТ","СБ"][e.getDay()];document.getElementsByClassName("time")[0].innerHTML=f,document.getElementsByClassName("date")[0].innerHTML=m,document.getElementsByClassName("alias")[0].innerHTML=d,document.getElementsByClassName("yearLetters")[0].innerHTML=" A. M.",n||(calendar.drawCalendar(c,h,l,r.currentYearIsLeap),n=!0)}function t(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}function a(e){var t=family[0].daysWithoutPrecision,a=t+family[1].daysWithoutPrecision,r=a+family[2].daysWithoutPrecision,n=r+family[3].daysWithoutPrecision,i=n+family[4].daysWithoutPrecision,o=i+family[5].daysWithoutPrecision,l=o+family[6].daysWithoutPrecision;return e>0&&e<=t?[e,"MICHAEL",1]:e>t&&e<=a?[e-t,"ELIA",2]:e>a&&e<=r?[e-a,"SERGIUS",3]:e>r&&e<=n?[e-r,"EGOR",4]:e>n&&e<=i?[e-n,"VAN",5]:e>i&&e<=o?[e-i,"LEXIUS",6]:e>o&&e<=l?[e-o,"CATHARINA",7]:void console.log("Mistake in algorithm")}var r={zeroDate:_.getZeroDate(),michaelBornDate:_.getMichaelBornDate(),currentDate:new Date,michaelAge:void 0,daysInYear:0,totalPercentOfAges:0,totalDaysWithoutCatharina:0,currentYearIsLeap:void 0,oneDay:864e5};r.currentYearIsLeap=_.IsLeapYear(r.currentDate.getFullYear()),r.daysInYear=r.currentYearIsLeap?366:365;var n=!1;!function(){var e=new Date,t=void 0;t=e.getMonth()>1||1==e.getMonth()&&e.getDate()>=13?e.getFullYear():e.getFullYear()-1,family.forEach(function(e){if(e.age=t-e.born.year,e.percentOfMichaelAges=e.age/family[0].age,r.totalPercentOfAges+=e.percentOfMichaelAges,"Michael"!=e.name){var a=Math.abs(new Date(family[0].born.year,e.born.month-1,e.born.day).getTime()-r.michaelBornDate.getTime());e.daysFromYearStart=Math.floor(a/r.oneDay),e.daysFromYearStartLeapYear=e.daysFromYearStart+1}}),r.michaelAge=family[0].age,family.forEach(function(e){e.daysWithPrecision=r.daysInYear/r.totalPercentOfAges*e.percentOfMichaelAges,e.daysWithoutPrecision=Math.round(e.daysWithPrecision),"Catharina"==e.name?e.daysWithoutPrecision=r.daysInYear-r.totalDaysWithoutCatharina:r.totalDaysWithoutCatharina+=e.daysWithoutPrecision,"Michael"==e.name&&(e.daysWithoutPrecision+=r.currentYearIsLeap?1:0)})}(),setInterval(e,1e3)});var preloader=document.getElementsByClassName("mk-spinner-wrap")[0];window.onload=function(){setTimeout(function(){fadeOutnojquery(preloader)},1e3)};var calendar=function(){function e(e,t,a,r){function n(e){return family.find(function(t){return r?t.daysFromYearStartLeapYear==e-1:t.daysFromYearStart==e-1})}var i=$(".free-month"),o=$(".four-month"),l=r?family.map(function(e){return e.daysFromYearStartLeapYear}):family.map(function(e){return e.daysFromYearStart}),s=1;family.forEach(function(r,c){appendDiv=c>2?o:i;var u="",y="";a>7&&(a=1);for(var d=1;d<a;d++)y+="<td></td>";for(var h=1;h<r.daysWithoutPrecision+1;h++){if(a>7&&(a=1,u+="<tr>"+y+"</tr>",y=""),c+1==t&&s==e&&-1!=l.indexOf(s-1)){var m=n(s);y+="<td class='today "+m.name+"-color' title='Сегодня день рождения у "+m.name+"'>"+h+"</td>"}else if(c+1==t&&s==e)y+="<td class='today' title='Сегодня'>"+h+"</td>";else if(-1!=l.indexOf(s-1)){var m=n(s);y+="<td class='"+m.name+"-color' title='День рождения "+m.name+"'>"+h+"</td>"}else y+="<td>"+h+"</td>";a++,s++}u+="<tr>"+y+"</tr>",y="";var f="<tbody>"+u+"</tbody>",g="<tr><th colspan='7' class='calendar-month-title "+r.name+"-color'>"+r.name+"</th></tr>",p="<thead>"+g+"<tr><th>ПН</th><th>ВТ</th><th>СР</th><th>ЧТ</th><th>ПТ</th><th>СБ</th><th>ВС</th></tr></thead>",v="<table>"+p+f+"</table>";appendDiv.append(v)}),tippy("[title]",{trigger:"mouseenter focus",distance:"1px"}),window.addEventListener("touchstart",function(){document.querySelectorAll(".tippy-popper").forEach(function(e){var t=e._tippy;t.state.visible&&(t.popperInstance.disableEventListeners(),t.hide())})})}return{drawCalendar:e}}();